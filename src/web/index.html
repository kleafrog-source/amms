<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MMSS Control Surface</title>
  <link rel="stylesheet" href="/app.css" />
</head>
<body>
  <header>
    <h1>MMSS Quantum Geometric Console</h1>
    <div id="status"></div>
  </header>

  <main>
    <section class="metrics-panel">
      <div class="metrics-header">
        <h2>üöÄ QGU –§–∏–∑–∏—á–µ—Å–∫–∏–µ –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã</h2>
        <button id="refresh-metrics">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</button>
      </div>

      <div class="constants-grid">
        <article class="constant-card">
          <h3>–ú–∞—Å—Å–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∞</h3>
          <div class="value" id="electron-mass">‚Äî</div>
          <div class="reference">–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç: 9.1093837015√ó10‚Åª¬≥¬π kg</div>
        </article>

        <article class="constant-card">
          <h3>–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ç–æ–Ω–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</h3>
          <div class="value" id="fine-structure">‚Äî</div>
          <div class="reference">CODATA: 0.0072973525693</div>
        </article>

        <article class="constant-card">
          <h3>–ö–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–Ω–∞—è –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å</h3>
          <div class="value" id="quaternion-coherence">‚Äî</div>
          <div class="reference">–¶–µ–ª—å: &gt; 0.9995</div>
        </article>

        <article class="constant-card">
          <h3>–¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –Ω–∞–º–æ—Ç–∫–∞</h3>
          <div class="value" id="topological-winding">‚Äî</div>
          <div class="reference">–¶–µ–ª—å: 9.0000</div>
        </article>
      </div>

      <div class="task-panel">
        <div class="task-header">
          <h2>üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏</h2>
          <button id="refresh-tasks">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á</button>
        </div>
        
        <div class="task-list-container">
          <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏</h3>
          <div id="task-list" class="task-list">
            <p class="empty-state">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á</p>
          </div>
        </div>

        <div class="task-form">
          <h3>–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h3>
          <div class="form-group">
            <label for="task-json">JSON –∑–∞–¥–∞—á–∏:</label>
            <textarea id="task-json" rows="6" placeholder='{
  "task_name": "–ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞—á–∏",
  "geometric_operator": "QuaternionRotation",
  "target_module": "quantum_processor",
  "parameters": {},
  "expected_output_metric": "quaternion_coherence"
}'></textarea>
          </div>
          <div class="form-actions">
            <label class="checkbox-container">
              <input type="checkbox" id="task-execute" checked>
              <span>–í—ã–ø–æ–ª–Ω–∏—Ç—å —Å—Ä–∞–∑—É</span>
            </label>
            <button id="submit-task" class="primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
          </div>
        </div>
      </div>

      <div class="metrics-raw">
        <h3>Raw Metrics Payload</h3>
        <pre id="metrics">loading‚Ä¶</pre>
      </div>
    </section>

    <section>
      <h2>Tasks</h2>
      <div class="task-controls">
        <textarea id="task-json" rows="6" placeholder='{"task_name":"Manual Task", "geometric_operator":"QuaternionRotation", ...}'></textarea>
        <label><input type="checkbox" id="task-execute" checked /> Execute immediately</label>
        <button id="submit-task">Submit Task</button>
      </div>
      <h3>Active Tasks</h3>
      <table>
        <thead>
          <tr><th>ID</th><th>Status</th></tr>
        </thead>
        <tbody id="task-list"></tbody>
      </table>
    </section>

    <section>
      <h2>LLM Gateway</h2>
      <textarea id="llm-query" rows="4" placeholder="Describe the optimization you want"></textarea>
      <button id="send-llm">Request Task from LLM</button>
      <pre id="llm-response"></pre>
    </section>

    <section>
      <h2>AI Research Campaign</h2>
      <div class="campaign-form">
        <label>
          Goal
          <input id="campaign-goal" type="text" placeholder="–î–æ—Å—Ç–∏—á—å topological_winding = 9.0000" />
        </label>
        <label>
          Optimization Target
          <input id="campaign-target" type="text" value="topological_winding" />
        </label>
        <label>
          Target Value
          <input id="campaign-target-value" type="number" step="0.0001" value="9.0" />
        </label>
        <label>
          Max Steps
          <input id="campaign-steps" type="number" min="1" max="25" value="5" />
        </label>
        <label>
          Context (optional)
          <textarea id="campaign-context" rows="3" placeholder='{"notes":"use fine tuning"}'></textarea>
        </label>
        <button id="start-research">Start Research Campaign</button>
      </div>
      <pre id="research-result">Awaiting campaign‚Ä¶</pre>
    </section>

    <section>
      <h2>Visualization Packet</h2>
      <pre id="viz-packet">loading‚Ä¶</pre>
    </section>
  </main>

  <footer>
    <small>Mistral API key is read from server env. All commands routed through MMSS semantic processor.</small>
  </footer>

  <script src="/app.js?v=2025-11-20" type="module"></script>
</body>
</html>
